(this["webpackJsonpnaming-rule-react"]=this["webpackJsonpnaming-rule-react"]||[]).push([[0],{164:function(e,t,a){},165:function(e,t,a){},246:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(23),l=a.n(r),s=(a(164),a(25)),c=a(27),u=a(32),o=a(31),d=a(130),h=a(26),b=a.p+"static/media/logo.2d27ead7.svg",m=(a(165),a(248)),j=a(254),p=a(58),f=a(252),v=a(258),O=a(251),g=a(250),x=a(63),y=a(65),R=a(259),C="ConstNamingRuleSetFilter",k="ConstNamingRuleAdd",w="ConstNamingRuleDisable",S="ConstNamingRuleEnable",N="ConstNamingRuleRemove",T="ConstNameSetFilter",I="ConstNameAdd",F="ConstNameRemove",D=function(e){return{type:T,payload:e}},V=function(e){return{type:I,payload:e}},A=function(e){return{type:F,payload:e}},B=a(249),E=a(93),P=a(255),J=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"write",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},{key:"read",value:function(e){var t=localStorage.getItem(e);try{return t?JSON.parse(t):[]}catch(a){return console.error(a),[]}}},{key:"remove",value:function(e){localStorage.removeItem(e)}},{key:"clear",value:function(){localStorage.clear()}}]),e}(),z=a(157),H=function(){function e(t,a){Object(s.a)(this,e),this.storageType=void 0,this.data=void 0,this.storageType=t,this.data=a}return Object(c.a)(e,[{key:"items",get:function(){return this.data}},{key:"save",value:function(){J.write(this.storageType,this.data)}},{key:"getById",value:function(e){return this.data.find((function(t){return t.id===e}))}},{key:"exists",value:function(e){return!!this.getById(e)}},{key:"add",value:function(e){this.exists(e.id)||(this.data.push(e),this.save(),z.b.success("".concat(this.storageType," was added successfully.")).then())}},{key:"remove",value:function(e){var t=this.data.findIndex((function(t){return t.id===e.id}));t>-1&&(this.data.splice(t,1),this.save(),z.b.success("".concat(this.storageType," was removed successfully.")).then())}}]),e}(),L="Name",G=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,L,e)}return Object(c.a)(a,null,[{key:"initData",value:function(){return new a(J.read(L))}}]),a}(H),M=function e(){Object(s.a)(this,e),this.id=(new Date).getTime(),this.name=""},q=a(6),Y=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).templateChanged=function(e){var t=n.props.rules.find((function(t){return t.id===e}));if(t){var a=[];t.value.forEach((function(e){switch(e.type){case"FreeText":case"FixedValue":a.push(e.value);break;default:var t=e.value.split(",");t.length?a.push(t[0]):a.push("")}})),n.setState({selectedRule:t,selectedRuleId:e,preName:a})}},n.enumerationChanged=function(e,t){var a=n.state.preName;a[t]=e,n.setState({preName:a})};var i=n.props.rules[0];return n.state={item:new M,preName:[],selectedRuleId:i.id,selectedRule:i},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(q.jsxs)(f.a,{title:this.props.title,visible:!0,onOk:function(){var t=e.state.item;t.name=e.state.preName.filter((function(e){return!!e})).join("-"),e.props.onSubmit(t)},okButtonProps:{disabled:!this.state.preName.length},onCancel:this.props.onCancel,children:[Object(q.jsxs)(B.a,{children:[Object(q.jsx)(B.a.Item,{name:"template",label:"Template",labelCol:{span:5},children:Object(q.jsx)(E.a,{defaultValue:this.state.selectedRuleId,onChange:this.templateChanged,options:this.props.rules.map((function(e){return{label:e.name,value:e.id}}))})}),this.state.selectedRule.value.map((function(t,a){var n;switch(t.type){case"Enumeration":var i=t.value.split(",");i.length&&(n=null),n=Object(q.jsx)(E.a,{options:i.map((function(e){return{label:e,value:e}})),defaultValue:i[0],onChange:function(t){return e.enumerationChanged(t,a)}},e.state.selectedRule.name+a);break;case"FixedValue":n=Object(q.jsx)("span",{children:t.value},e.state.selectedRule.name+a);break;case"FreeText":n=Object(q.jsx)(O.a,{defaultValue:t.value,onChange:function(t){var n=e.state.preName;n[a]=t.target.value,e.setState({preName:n})}},e.state.selectedRule.name+a)}return Object(q.jsx)(B.a.Item,{label:t.type,labelCol:{span:5},children:n},"detailRule"+a)}))]}),Object(q.jsx)(P.a,{message:"Name Preview: "+this.state.preName.filter((function(e){return!!e})).join("-"),type:"success"})]})}}]),a}(i.a.Component),K=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={showDetails:!1},e.remove=function(t){f.a.confirm({title:"Are you sure you want to delete it?",icon:Object(q.jsx)(y.a,{}),content:"This deletion is un-withdrawable.",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){e.props.remove(A(t))}})},e.add=function(t){e.props.add(V(t)),e.setState({showDetails:!1})},e.filterChanged=function(t){var a=t.target.value;e.props.setFilter(D({name:a}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(q.jsxs)("div",{children:[Object(q.jsxs)(v.b,{children:[Object(q.jsx)("label",{children:"Filter by Name:"}),Object(q.jsx)(O.a,{onChange:this.filterChanged})]}),Object(q.jsx)(g.b,{dataSource:this.props.names,renderItem:function(t){return Object(q.jsx)(g.b.Item,{actions:[Object(q.jsx)(x.a,{type:"link",danger:!0,onClick:function(){return e.remove(t)},children:"Delete"},"button"+t.id)],children:t.name},t.id)}}),Object(q.jsx)(x.a,{type:"dashed",block:!0,icon:Object(q.jsx)(R.a,{}),onClick:function(){return e.setState({showDetails:!0})},children:"Add a new Name"}),this.state.showDetails?Object(q.jsx)(Y,{rules:this.props.namingRules,title:"Add a Name",onSubmit:this.add,onCancel:function(){return e.setState({showDetails:!1})}}):null]})}}]),a}(i.a.Component),W=Object(p.b)((function(e){var t=e.nameState.nameFilter.name;return{names:t?e.nameState.names.items.filter((function(e){return e.name.toLowerCase().startsWith(t.toLowerCase())})):e.nameState.names.items,namingRules:e.nameState.namingRules.items.filter((function(e){return!e.disabled}))}}),(function(e){var t=function(t){return e(t)};return{add:t,remove:t,setFilter:t}}))(K),Q=function(e){return{type:C,payload:e}},U=function(e){return{type:k,payload:e}},X=function(e){return{type:w,payload:e}},Z=function(e){return{type:S,payload:e}},$=function(e){return{type:N,payload:e}},_=a(253),ee=a(257),te=a(30),ae="NamingRule",ne=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,ae,e)}return Object(c.a)(a,[{key:"disable",value:function(e){var t=this.getById(e.id);t&&(t.disabled=!0,this.save())}},{key:"enable",value:function(e){var t=this.getById(e.id);t&&(t.disabled=!1,this.save())}}],[{key:"initData",value:function(){var e=new a(J.read(ae));if(!e.items.length){var t=new ie;t.name="Default Rule",t.value.push({type:"FreeText",value:""}),t.isBuildIn=!0,e.add(t)}return e}}]),a}(H),ie=function e(){Object(s.a)(this,e),this.id=(new Date).getTime(),this.name="",this.disabled=!1,this.value=[],this.isBuildIn=!1},re=a(256),le=a(260),se=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).state=void 0,n.defaultRule={type:"FreeText",value:""},n.addRule=function(){n.state.value.push(Object(te.a)({},n.defaultRule)),n.setState(n.state)},n.removeRule=function(e){n.state.value.splice(e,1),n.setState(n.state)},n.namingRuleNameChanged=function(e){var t=Object(te.a)(Object(te.a)({},n.state),{name:e});n.setState(t)},n.ruleTypeChanged=function(e,t){var a=n.state;a.value[t].type=e,n.setState(a)},n.ruleValueChanged=function(e,t){var a=n.state;a.value[t].value=e,n.setState(a)},n.getPlaceHolder=function(e){switch(e){case"FixedValue":return"a fixed value";case"Enumeration":return'separate by comma like "a,b,c"';default:return"a default value"}};var i=new ie;return i.value.push(n.defaultRule),n.state=i,n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=["FreeText","Enumeration","FixedValue"];return Object(q.jsx)(f.a,{title:this.props.title,visible:!0,width:600,onOk:function(){return e.props.onSubmit(e.state)},okButtonProps:{disabled:!this.state.name||this.state.value.some((function(e){return"FreeText"!==e.type&&!e.value}))},onCancel:this.props.onCancel,children:Object(q.jsxs)(B.a,{children:[Object(q.jsx)(B.a.Item,{name:"name",label:"Name",labelCol:{span:4},rules:[{required:!0,message:"Name is required"}],children:Object(q.jsx)(O.a,{value:this.state.name,onChange:function(t){return e.namingRuleNameChanged(t.target.value)}})}),Object(q.jsx)(B.a.Item,{name:"disabled",label:"Disabled",labelCol:{span:4},children:Object(q.jsx)(re.a,{checked:this.state.disabled,onChange:function(t){return e.setState(Object(te.a)(Object(te.a)({},e.state),{disabled:t.target.checked}))}})}),this.state.value.map((function(a,n){return Object(q.jsx)(B.a.Item,{label:"Rule",labelCol:{span:4},children:Object(q.jsxs)(v.b,{children:[Object(q.jsx)(E.a,{defaultValue:"FreeText",value:a.type,style:{width:130},options:t.map((function(e){return{label:e,value:e}})),onChange:function(t){return e.ruleTypeChanged(t,n)}}),Object(q.jsx)(O.a,{name:"input"+n,value:a.value,style:{width:300},onChange:function(t){return e.ruleValueChanged(t.target.value,n)},placeholder:e.getPlaceHolder(a.type)}),n?Object(q.jsx)(le.a,{onClick:function(){return e.removeRule(n)}}):null]})},"detailRule"+n)})),Object(q.jsx)(B.a.Item,{children:Object(q.jsx)(x.a,{type:"dashed",block:!0,icon:Object(q.jsx)(R.a,{}),onClick:this.addRule,children:"Add a Rule"})})]})})}}]),a}(i.a.Component),ce=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={showDetails:!1,filter:"all"},e.addNamingRule=function(t){e.props.addRule(U(t)),e.setState({showDetails:!1})},e.setNamingRuleStatus=function(t,a){a?e.props.disableRule(Z(t)):e.props.disableRule(X(t))},e.delNamingRule=function(t){f.a.confirm({title:"Are you sure you want to delete it?",icon:Object(q.jsx)(y.a,{}),content:"This deletion is un-withdrawable.",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){e.props.removeRule($(t))}})},e.filterChanged=function(t){var a=t.target.value,n={all:!0,disabled:!1};"all"!==a&&(n.all=!1,n.disabled="disabled"===a),e.props.setFilter(Q(n)),e.setState({filter:t.target.value})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(q.jsxs)("div",{children:[Object(q.jsxs)(v.b,{children:[Object(q.jsx)("label",{children:"Display:"}),Object(q.jsxs)(_.a.Group,{onChange:this.filterChanged,value:this.state.filter,children:[Object(q.jsx)(_.a,{value:"all",children:"All"}),Object(q.jsx)(_.a,{value:"disabled",children:"Disabled"}),Object(q.jsx)(_.a,{value:"enabled",children:"Enabled"})]})]}),Object(q.jsx)(g.b,{dataSource:this.props.rules,renderItem:function(t){return Object(q.jsx)(g.b.Item,{actions:t.isBuildIn?[Object(q.jsx)(ee.a,{checkedChildren:"\u5df2\u542f\u7528",checked:!0,size:"small",disabled:!0},"switch"+t.id),Object(q.jsx)("div",{style:{width:56},children:"Build-in"},"div"+t.id)]:[Object(q.jsx)(ee.a,{checkedChildren:"\u5df2\u542f\u7528",unCheckedChildren:"\u5df2\u7981\u7528",checked:!t.disabled,onChange:function(a){return e.setNamingRuleStatus(t,a)},size:"small"},"switch"+t.id),Object(q.jsx)(x.a,{type:"link",size:"small",danger:!0,onClick:function(){return e.delNamingRule(t)},children:"Delete"},"button"+t.id)],children:Object(q.jsx)(g.b.Item.Meta,{title:t.name,description:t.value.map((function(e){return e.type+": "+(e.value||"null")})).join(", ")})},t.id)}}),Object(q.jsx)(x.a,{type:"dashed",block:!0,icon:Object(q.jsx)(R.a,{}),onClick:function(){return e.setState({showDetails:!0})},children:"Add a new Naming Rule"}),this.state.showDetails?Object(q.jsx)(se,{title:"Add a Naming Rule",onSubmit:this.addNamingRule,onCancel:function(){return e.setState({showDetails:!1})}}):null]})}}]),a}(i.a.Component),ue=function(e){if(!e.namingRuleState.namingRuleFilter.all){var t=e.namingRuleState.namingRuleFilter.disabled;return e.namingRuleState.namingRules.items.filter((function(e){return e.disabled===t}))}return e.namingRuleState.namingRules.items},oe=[{path:"/names",name:"Names",component:W},{path:"/naming-rules",name:"Naming Rules",component:Object(p.b)((function(e){return{rules:ue(e)}}),(function(e){var t=function(t){return e(t)};return{addRule:t,removeRule:t,disableRule:t,enableRule:t,setFilter:t}}))(ce)},{path:"/about",name:"About",component:function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(q.jsxs)("div",{children:[Object(q.jsx)("p",{children:"The Naming Rule Management is a project for learning react and Vue."}),Object(q.jsx)("p",{children:"It has two versions, the react version is built by react-scripts with react 17.x, react-router-dom 5.x, react-redux 7.x, TypeScript."}),Object(q.jsx)("p",{children:"The Vue version is built by vue/cli with Vue 3.x, Vuex 4.x, Vue router 4.x, TypeScript."}),Object(q.jsxs)("p",{children:["It has two repositories, the GitHub one is at",Object(q.jsx)("a",{href:"https://github.com/ckvip/naming-rule",target:"github",children:" https://github.com/ckvip/naming-rule"}),", and it has a",Object(q.jsx)("a",{href:"https://ckvip.github.io/naming-rule",target:"demo",children:" react live demo"}),"."]}),Object(q.jsxs)("p",{children:["The other one is on Gitee.com in China at",Object(q.jsx)("a",{href:"https://gitee.com/yoso2020/naming-rule",target:"gitee",children:" https://gitee.com/yoso2020/naming-rule"}),", it has a",Object(q.jsx)("a",{href:"https://yoso2020.gitee.io/naming-rule",target:"demo",children:"react live demo"})," too."]})]})}}]),a}(i.a.Component)}],de=m.a.Header,he=m.a.Content,be=m.a.Footer,me=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e="/naming-rule",t=window.location.pathname.replace(e,""),a=oe.findIndex((function(e){return e.path===t})),n=a>-1?[a.toString()]:["0"];return Object(q.jsx)(d.a,{children:Object(q.jsxs)(m.a,{children:[Object(q.jsxs)(de,{children:[Object(q.jsx)("img",{src:b,className:"App-logo",alt:"logo"}),Object(q.jsx)(j.a,{theme:"dark",mode:"horizontal",className:"app-menus",defaultSelectedKeys:n,children:oe.map((function(t,a){return Object(q.jsx)(j.a.Item,{children:Object(q.jsx)(d.b,{to:e+t.path,children:t.name})},a)}))})]}),Object(q.jsx)(he,{children:Object(q.jsx)("div",{className:"center-container",children:Object(q.jsxs)(h.d,{children:[oe.map((function(t){return Object(q.jsx)(h.b,{path:e+t.path,component:t.component},t.path)})),Object(q.jsx)(h.b,{path:e+"/",children:Object(q.jsx)(h.a,{to:e+"/names"})})]})})}),Object(q.jsx)(be,{children:"Jimmy learn to react"})]})})}}]),a}(i.a.Component);var je=Object(p.b)((function(e){return{state:e}}))(me),pe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,261)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,l=t.getTTFB;a(e),n(e),i(e),r(e),l(e)}))},fe=a(71),ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(null===t||void 0===t?void 0:t.type){case k:return e.namingRules.add(t.payload),Object(te.a)({},e);case w:return e.namingRules.disable(t.payload),Object(te.a)({},e);case S:return e.namingRules.enable(t.payload),Object(te.a)({},e);case N:return e.namingRules.remove(t.payload),Object(te.a)({},e);case C:return Object(te.a)(Object(te.a)({},e),{namingRuleFilter:t.payload});default:return e}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(null===t||void 0===t?void 0:t.type){case I:return e.names.add(t.payload),Object(te.a)({},e);case F:return e.names.remove(t.payload),Object(te.a)({},e);case T:return Object(te.a)(Object(te.a)({},e),{nameFilter:t.payload});default:return e}},ge=Object(fe.b)({namingRuleState:ve,nameState:Oe}),xe={names:G.initData(),namingRules:ne.initData(),namingRuleFilter:{disabled:!1,all:!0},nameFilter:{name:""}},ye={namingRuleState:xe,nameState:xe},Re=Object(fe.c)(ge,ye);l.a.render(Object(q.jsx)(i.a.StrictMode,{children:Object(q.jsx)(p.a,{store:Re,children:Object(q.jsx)(je,{})})}),document.getElementById("root")),pe()}},[[246,1,2]]]);