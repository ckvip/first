(this["webpackJsonpnaming-rule-react"]=this["webpackJsonpnaming-rule-react"]||[]).push([[0],{164:function(e,t,a){},165:function(e,t,a){},246:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(23),r=a.n(l),s=(a(164),a(25)),u=a(27),c=a(32),o=a(31),d=a(130),m=a(26),h=a.p+"static/media/logo.2d27ead7.svg",b=(a(165),a(248)),j=a(254),p=a(58),f=a(252),g=a(258),v=a(251),O=a(250),y=a(63),R=a(65),x=a(259),N=function(e){return{type:"NameSetFilter",payload:e}},S=function(e){return{type:"NameAdd",payload:e}},k=function(e){return{type:"NameRemove",payload:e}},C=a(249),w=a(93),F=a(255),I=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"write",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},{key:"read",value:function(e){var t=localStorage.getItem(e);try{return t?JSON.parse(t):[]}catch(a){return console.log(a),[]}}},{key:"remove",value:function(e){localStorage.removeItem(e)}},{key:"clear",value:function(){localStorage.clear()}}]),e}(),D=a(157),T=function(){function e(t,a){Object(s.a)(this,e),this.storageType=void 0,this.data=void 0,this.storageType=t,this.data=a}return Object(u.a)(e,[{key:"items",get:function(){return this.data}},{key:"save",value:function(){I.write(this.storageType,this.data)}},{key:"getById",value:function(e){return this.data.find((function(t){return t.id===e}))}},{key:"exists",value:function(e){return!!this.getById(e)}},{key:"add",value:function(e){this.exists(e.id)||(this.data.push(e),this.save(),D.b.success("".concat(this.storageType," was added successfully.")).then())}},{key:"remove",value:function(e){var t=this.data.findIndex((function(t){return t.id===e.id}));t>-1&&(this.data.splice(t,1),this.save(),D.b.success("".concat(this.storageType," was removed successfully.")).then())}}]),e}(),A="Name",B=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,A,e)}return Object(u.a)(a,null,[{key:"initData",value:function(){return new a(I.read(A))}}]),a}(T),E=function e(){Object(s.a)(this,e),this.id=(new Date).getTime(),this.name=""},V=a(7),P=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).templateChanged=function(e){var t=n.props.rules.find((function(t){return t.id===e}));if(t){var a=[];t.value.forEach((function(e){switch(e.type){case"FreeText":case"FixedValue":a.push(e.value);break;default:var t=e.value.split(",");t.length?a.push(t[0]):a.push("")}})),n.setState({selectedRule:t,selectedRuleId:e,preName:a})}},n.enumerationChanged=function(e,t){var a=n.state.preName;a[t]=e,n.setState({preName:a})};var i=n.props.rules[0];return n.state={item:new E,preName:[],selectedRuleId:i.id,selectedRule:i},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(V.jsxs)(f.a,{title:this.props.title,visible:!0,onOk:function(){var t=e.state.item;t.name=e.state.preName.filter((function(e){return!!e})).join("-"),e.props.onSubmit(t)},okButtonProps:{disabled:!this.state.preName.length},onCancel:this.props.onCancel,children:[Object(V.jsxs)(C.a,{children:[Object(V.jsx)(C.a.Item,{name:"template",label:"Template",labelCol:{span:5},children:Object(V.jsx)(w.a,{defaultValue:this.state.selectedRuleId,onChange:this.templateChanged,options:this.props.rules.map((function(e){return{label:e.name,value:e.id}}))})}),this.state.selectedRule.value.map((function(t,a){var n;switch(t.type){case"Enumeration":var i=t.value.split(",");i.length&&(n=null),n=Object(V.jsx)(w.a,{options:i.map((function(e){return{label:e,value:e}})),defaultValue:i[0],onChange:function(t){return e.enumerationChanged(t,a)}});break;case"FixedValue":n=Object(V.jsx)("span",{children:t.value});break;default:n=Object(V.jsx)(v.a,{defaultValue:t.value,onChange:function(t){var n=e.state.preName;n[a]=t.target.value,e.setState({preName:n})}})}return Object(V.jsx)(C.a.Item,{label:t.type,labelCol:{span:5},children:n},"detailRule"+a)}))]}),Object(V.jsx)(F.a,{message:"Name Preview: "+this.state.preName.filter((function(e){return!!e})).join("-"),type:"success"})]})}}]),a}(i.a.Component),J=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={showDetails:!1},e.remove=function(t){f.a.confirm({title:"Are you sure you want to delete it?",icon:Object(V.jsx)(R.a,{}),content:"This deletion is un-withdrawable.",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){e.props.remove(k(t))}})},e.add=function(t){e.props.add(S(t)),e.setState({showDetails:!1})},e.filterChanged=function(t){var a=t.target.value;e.props.setFilter(N({name:a}))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(V.jsxs)("div",{children:[Object(V.jsxs)(g.b,{children:[Object(V.jsx)("label",{children:"Filter by Name:"}),Object(V.jsx)(v.a,{onChange:this.filterChanged})]}),Object(V.jsx)(O.b,{dataSource:this.props.names,renderItem:function(t){return Object(V.jsx)(O.b.Item,{actions:[Object(V.jsx)(y.a,{type:"link",danger:!0,onClick:function(){return e.remove(t)},children:"Delete"})],children:t.name})}}),Object(V.jsx)(y.a,{type:"dashed",block:!0,icon:Object(V.jsx)(x.a,{}),onClick:function(){return e.setState({showDetails:!0})},children:"Add a new Name"}),this.state.showDetails?Object(V.jsx)(P,{rules:this.props.namingRules,title:"Add a Name",onSubmit:this.add,onCancel:function(){return e.setState({showDetails:!1})}}):null]})}}]),a}(i.a.Component),z=Object(p.b)((function(e){var t=e.nameState.nameFilter.name;return{names:t?e.nameState.names.items.filter((function(e){return e.name.toLowerCase().startsWith(t.toLowerCase())})):e.nameState.names.items,namingRules:e.nameState.namingRules.items.filter((function(e){return!e.disabled}))}}),(function(e){var t=function(t){return e(t)};return{add:t,remove:t,setFilter:t}}))(J),H=function(e){return{type:"NamingRuleSetFilter",payload:e}},L=function(e){return{type:"NamingRuleAdd",payload:e}},G=function(e){return{type:"NamingRuleDisable",payload:e}},M=function(e){return{type:"NamingRuleEnable",payload:e}},q=function(e){return{type:"NamingRuleRemove",payload:e}},Y=a(253),K=a(257),W=a(30),Q="NamingRule",U=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,Q,e)}return Object(u.a)(a,[{key:"disable",value:function(e){var t=this.getById(e.id);t&&(t.disabled=!0,this.save())}},{key:"enable",value:function(e){var t=this.getById(e.id);t&&(t.disabled=!1,this.save())}}],[{key:"initData",value:function(){var e=new a(I.read(Q));if(!e.items.length){var t=new X;t.name="Default Rule",t.value.push({type:"FreeText",value:""}),t.isBuildIn=!0,e.add(t)}return e}}]),a}(T),X=function e(){Object(s.a)(this,e),this.id=(new Date).getTime(),this.name="",this.disabled=!1,this.value=[],this.isBuildIn=!1},Z=a(256),$=a(260),_=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).state=void 0,n.defaultRule={type:"FreeText",value:""},n.addRule=function(){n.state.value.push(Object(W.a)({},n.defaultRule)),n.setState(n.state)},n.removeRule=function(e){n.state.value.splice(e,1),n.setState(n.state)},n.namingRuleNameChanged=function(e){var t=Object(W.a)(Object(W.a)({},n.state),{name:e});n.setState(t)},n.ruleTypeChanged=function(e,t){var a=n.state;a.value[t].type=e,n.setState(a)},n.ruleValueChanged=function(e,t){var a=n.state;a.value[t].value=e,n.setState(a)},n.getPlaceHolder=function(e){switch(e){case"FixedValue":return"a fixed value";case"Enumeration":return'separate by comma like "a,b,c"';default:return"a default value"}};var i=new X;return i.value.push(n.defaultRule),n.state=i,n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=["FreeText","Enumeration","FixedValue"];return Object(V.jsx)(f.a,{title:this.props.title,visible:!0,width:600,onOk:function(){return e.props.onSubmit(e.state)},okButtonProps:{disabled:!this.state.name},onCancel:this.props.onCancel,children:Object(V.jsxs)(C.a,{children:[Object(V.jsx)(C.a.Item,{name:"name",label:"Name",labelCol:{span:4},rules:[{required:!0,message:"Name is required"}],children:Object(V.jsx)(v.a,{value:this.state.name,onChange:function(t){return e.namingRuleNameChanged(t.target.value)}})}),Object(V.jsx)(C.a.Item,{name:"disabled",label:"Disabled",labelCol:{span:4},children:Object(V.jsx)(Z.a,{checked:this.state.disabled,onChange:function(t){return e.setState(Object(W.a)(Object(W.a)({},e.state),{disabled:t.target.checked}))}})}),this.state.value.map((function(a,n){return Object(V.jsx)(C.a.Item,{label:"Rule",labelCol:{span:4},children:Object(V.jsxs)(g.b,{children:[Object(V.jsx)(w.a,{defaultValue:"FreeText",value:a.type,style:{width:130},options:t.map((function(e){return{label:e,value:e}})),onChange:function(t){return e.ruleTypeChanged(t,n)}}),Object(V.jsx)(v.a,{name:"input"+n,value:a.value,style:{width:300},onChange:function(t){return e.ruleValueChanged(t.target.value,n)},placeholder:e.getPlaceHolder(a.type)}),n?Object(V.jsx)($.a,{onClick:function(){return e.removeRule(n)}}):null]})},"detailRule"+n)})),Object(V.jsx)(C.a.Item,{children:Object(V.jsx)(y.a,{type:"dashed",block:!0,icon:Object(V.jsx)(x.a,{}),onClick:this.addRule,children:"Add a Rule"})})]})})}}]),a}(i.a.Component),ee=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={showDetails:!1,filter:"all"},e.addNamingRule=function(t){e.props.addRule(L(t)),e.setState({showDetails:!1})},e.setNamingRuleStatus=function(t,a){a?e.props.disableRule(M(t)):e.props.disableRule(G(t))},e.delNamingRule=function(t){f.a.confirm({title:"Are you sure you want to delete it?",icon:Object(V.jsx)(R.a,{}),content:"This deletion is un-withdrawable.",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){e.props.removeRule(q(t))}})},e.filterChanged=function(t){var a=t.target.value,n={all:!0,disabled:!1};"all"!==a&&(n.all=!1,n.disabled="disabled"===a),e.props.setFilter(H(n)),e.setState({filter:t.target.value})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(V.jsxs)("div",{children:[Object(V.jsxs)(g.b,{children:[Object(V.jsx)("label",{children:"Display:"}),Object(V.jsxs)(Y.a.Group,{onChange:this.filterChanged,value:this.state.filter,children:[Object(V.jsx)(Y.a,{value:"all",children:"All"}),Object(V.jsx)(Y.a,{value:"disabled",children:"Disabled"}),Object(V.jsx)(Y.a,{value:"enabled",children:"Enabled"})]})]}),Object(V.jsx)(O.b,{dataSource:this.props.rules,renderItem:function(t){return Object(V.jsx)(O.b.Item,{actions:t.isBuildIn?[Object(V.jsx)(K.a,{checkedChildren:"\u5df2\u542f\u7528",checked:!0,size:"small",disabled:!0}),Object(V.jsx)("div",{style:{width:56},children:"Build-in"})]:[Object(V.jsx)(K.a,{checkedChildren:"\u5df2\u542f\u7528",unCheckedChildren:"\u5df2\u7981\u7528",checked:!t.disabled,onChange:function(a){return e.setNamingRuleStatus(t,a)},size:"small"}),Object(V.jsx)(y.a,{type:"link",size:"small",danger:!0,onClick:function(){return e.delNamingRule(t)},children:"Delete"})],children:Object(V.jsx)(O.b.Item.Meta,{title:t.name,description:t.value.map((function(e){return e.type+": "+(e.value||"null")})).join(", ")})})}}),Object(V.jsx)(y.a,{type:"dashed",block:!0,icon:Object(V.jsx)(x.a,{}),onClick:function(){return e.setState({showDetails:!0})},children:"Add a new Naming Rule"}),this.state.showDetails?Object(V.jsx)(_,{title:"Add a Naming Rule",onSubmit:this.addNamingRule,onCancel:function(){return e.setState({showDetails:!1})}}):null]})}}]),a}(i.a.Component),te=function(e){if(!e.namingRuleState.namingRuleFilter.all){var t=e.namingRuleState.namingRuleFilter.disabled;return e.namingRuleState.namingRules.items.filter((function(e){return e.disabled===t}))}return e.namingRuleState.namingRules.items},ae=[{path:"/names",name:"Names",component:z},{path:"/naming-rules",name:"Naming Rules",component:Object(p.b)((function(e){return{rules:te(e)}}),(function(e){var t=function(t){return e(t)};return{addRule:t,removeRule:t,disableRule:t,enableRule:t,setFilter:t}}))(ee)},{path:"/about",name:"About",component:function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(V.jsxs)("div",{children:[Object(V.jsx)("p",{children:"The Naming Rule Management(React Version) is a project for learning react. It's built by react-scripts with react, react-router-dom, react-redux, TypeScript. "}),Object(V.jsxs)("p",{children:["It has two repositories, the GitHub one is at",Object(V.jsx)("a",{href:"https://github.com/ckvip/naming-rule",target:"github",children:" https://github.com/ckvip/naming-rule"}),", and it has a",Object(V.jsx)("a",{href:"https://ckvip.github.io/naming-rule",target:"demo",children:" live demo"}),"."]}),Object(V.jsxs)("p",{children:["The other one is on Gitee.com in China at",Object(V.jsx)("a",{href:"https://gitee.com/yoso2020/naming-rule",target:"gitee",children:" https://gitee.com/yoso2020/naming-rule"}),", it has a",Object(V.jsx)("a",{href:"https://yoso2020.gitee.io/naming-rule",target:"demo",children:" live demo"})," too."]})]})}}]),a}(i.a.Component)}],ne=b.a.Header,ie=b.a.Content,le=b.a.Footer,re=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e="/naming-rule",t=window.location.pathname.replace(e,""),a=ae.findIndex((function(e){return e.path===t})),n=a>-1?[a.toString()]:["0"];return Object(V.jsx)(d.a,{children:Object(V.jsxs)(b.a,{children:[Object(V.jsxs)(ne,{children:[Object(V.jsx)("img",{src:h,className:"App-logo",alt:"logo"}),Object(V.jsx)(j.a,{theme:"dark",mode:"horizontal",className:"app-menus",defaultSelectedKeys:n,children:ae.map((function(t,a){return Object(V.jsx)(j.a.Item,{children:Object(V.jsx)(d.b,{to:e+t.path,children:t.name})},a)}))})]}),Object(V.jsx)(ie,{children:Object(V.jsx)("div",{className:"center-container",children:Object(V.jsxs)(m.d,{children:[ae.map((function(t,a){return Object(V.jsx)(m.b,{path:e+t.path,component:t.component},t.path)})),Object(V.jsx)(m.b,{path:e+"/",children:Object(V.jsx)(m.a,{to:e+"/names"})})]})})}),Object(V.jsx)(le,{children:"Jimmy learn to react"})]})})}}]),a}(i.a.Component);var se=Object(p.b)((function(e){return{state:e}}))(re),ue=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,261)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,l=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),l(e),r(e)}))},ce=a(71),oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a={namingRuleSetFilter:"NamingRuleSetFilter",namingRuleAdd:"NamingRuleAdd",namingRuleDisable:"NamingRuleDisable",namingRuleEnable:"NamingRuleEnable",namingRuleRemove:"NamingRuleRemove",nameSetFilter:"NameSetFilter",nameAdd:"NameAdd",nameRemove:"NameRemove"};switch(null===t||void 0===t?void 0:t.type){case a.namingRuleAdd:return e.namingRules.add(t.payload),Object(W.a)({},e);case a.namingRuleDisable:return e.namingRules.disable(t.payload),Object(W.a)({},e);case a.namingRuleEnable:return e.namingRules.enable(t.payload),Object(W.a)({},e);case a.namingRuleRemove:return e.namingRules.remove(t.payload),Object(W.a)({},e);case a.namingRuleSetFilter:return Object(W.a)(Object(W.a)({},e),{namingRuleFilter:t.payload});default:return e}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a={namingRuleSetFilter:"NamingRuleSetFilter",namingRuleAdd:"NamingRuleAdd",namingRuleDisable:"NamingRuleDisable",namingRuleEnable:"NamingRuleEnable",namingRuleRemove:"NamingRuleRemove",nameSetFilter:"NameSetFilter",nameAdd:"NameAdd",nameRemove:"NameRemove"};switch(null===t||void 0===t?void 0:t.type){case a.nameAdd:return e.names.add(t.payload),Object(W.a)({},e);case a.nameRemove:return e.names.remove(t.payload),Object(W.a)({},e);case a.nameSetFilter:return Object(W.a)(Object(W.a)({},e),{nameFilter:t.payload});default:return e}},me=Object(ce.b)({namingRuleState:oe,nameState:de}),he={names:B.initData(),namingRules:U.initData(),namingRuleFilter:{disabled:!1,all:!0},nameFilter:{name:""}},be={namingRuleState:he,nameState:he},je=Object(ce.c)(me,be);r.a.render(Object(V.jsx)(i.a.StrictMode,{children:Object(V.jsx)(p.a,{store:je,children:Object(V.jsx)(se,{})})}),document.getElementById("root")),ue()}},[[246,1,2]]]);