(this["webpackJsonpnaming-rule-react"]=this["webpackJsonpnaming-rule-react"]||[]).push([[0],{154:function(e,t,a){},155:function(e,t,a){},236:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(23),r=a.n(l),u=(a(154),a(7)),s=a(8),c=a(10),o=a(11),d=a(121),m=a(25),b=a.p+"static/media/logo.2d27ead7.svg",h=(a(155),a(238)),j=a(244),p=a(52),f=a(242),v=a(246),g=a(241),O=a(240),R=a(57),y=a(81),x=a(248),N=function(e){return{type:"NameSetFilter",payload:e}},S=function(e){return{type:"NameAdd",payload:e}},C=function(e){return{type:"NameRemove",payload:e}},k=a(239),w=a(80),F=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,null,[{key:"write",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},{key:"read",value:function(e){var t=localStorage.getItem(e);try{return t?JSON.parse(t):[]}catch(a){return console.log(a),[]}}},{key:"remove",value:function(e){localStorage.removeItem(e)}},{key:"clear",value:function(){localStorage.clear()}}]),e}(),D=function(){function e(t,a){Object(u.a)(this,e),this.storageType=void 0,this.data=void 0,this.storageType=t,this.data=a}return Object(s.a)(e,[{key:"items",get:function(){return this.data}},{key:"filter",value:function(e){this.data=e(this.data)}},{key:"save",value:function(){F.write(this.storageType,this.data)}},{key:"getById",value:function(e){return this.data.find((function(t){return t.id===e}))}},{key:"exists",value:function(e){return!!this.getById(e)}},{key:"add",value:function(e){this.exists(e.id)||(this.data.push(e),this.save())}},{key:"remove",value:function(e){var t=this.data.findIndex((function(t){return t.id===e.id}));t>-1&&(this.data.splice(t,1),this.save())}}]),e}(),I="Name",A=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,I,e)}return Object(s.a)(a,null,[{key:"initData",value:function(){return new a(F.read(I))}}]),a}(D),T=function e(){Object(u.a)(this,e),this.id=(new Date).getTime(),this.name=""},B=a(9),E=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).templateChanged=function(e){var t=n.props.rules.find((function(t){return t.id===e}));if(t){var a=[];t.value.forEach((function(e){switch(e.type){case"FreeText":case"FixedValue":a.push(e.value);break;default:var t=e.value.split(",");t.length?a.push(t[0]):a.push("")}})),n.setState({selectedRule:t,selectedRuleId:e,preName:a})}},n.enumerationChanged=function(e,t){var a=n.state.preName;a[t]=e,n.setState({preName:a})};var i=n.props.rules[0];return n.state={item:new T,preName:[],selectedRuleId:i.id,selectedRule:i},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return Object(B.jsx)(f.a,{title:this.props.title,visible:!0,onOk:function(){var t=e.state.item;t.name=e.state.preName.filter((function(e){return!!e})).join("-"),e.props.onSubmit(t)},okButtonProps:{disabled:!this.state.preName.length},onCancel:this.props.onCancel,children:Object(B.jsxs)(k.a,{children:[Object(B.jsx)(k.a.Item,{name:"template",label:"Template",labelCol:{span:5},children:Object(B.jsx)(w.a,{defaultValue:this.state.selectedRuleId,onChange:this.templateChanged,options:this.props.rules.map((function(e){return{label:e.name,value:e.id}}))})}),this.state.selectedRule.value.map((function(t,a){var n;switch(t.type){case"Enumeration":var i=t.value.split(",");i.length&&(n=null),n=Object(B.jsx)(w.a,{options:i.map((function(e){return{label:e,value:e}})),defaultValue:i[0],onChange:function(t){return e.enumerationChanged(t,a)}});break;case"FixedValue":n=Object(B.jsx)("span",{children:t.value});break;default:n=Object(B.jsx)(g.a,{defaultValue:t.value,onChange:function(t){var n=e.state.preName;n[a]=t.target.value,e.setState({preName:n})}})}return Object(B.jsx)(k.a.Item,{label:t.type,labelCol:{span:5},children:n},"detailRule"+a)}))]})})}}]),a}(i.a.Component),V=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={showDetails:!1},e.remove=function(t){f.a.confirm({title:"Are you sure you want to delete it?",icon:Object(B.jsx)(y.a,{}),content:"This deletion is un-withdrawable.",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){e.props.remove(C(t))}})},e.add=function(t){e.props.add(S(t)),e.setState({showDetails:!1})},e.filterChanged=function(t){var a=t.target.value;e.props.setFilter(N({name:a}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return Object(B.jsxs)("div",{children:[Object(B.jsxs)(v.b,{children:[Object(B.jsx)("label",{children:"Filter by Name:"}),Object(B.jsx)(g.a,{onChange:this.filterChanged})]}),Object(B.jsx)(O.b,{dataSource:this.props.names,renderItem:function(t){return Object(B.jsx)(O.b.Item,{actions:[Object(B.jsx)(R.a,{type:"link",danger:!0,onClick:function(){return e.remove(t)},children:"Delete"})],children:t.name})}}),Object(B.jsx)(R.a,{type:"dashed",block:!0,icon:Object(B.jsx)(x.a,{}),onClick:function(){return e.setState({showDetails:!0})},children:"Add a new Name"}),this.state.showDetails?Object(B.jsx)(E,{rules:this.props.namingRules,title:"Add a Name",onSubmit:this.add,onCancel:function(){return e.setState({showDetails:!1})}}):null]})}}]),a}(i.a.Component),J=Object(p.b)((function(e){var t=e.nameState.nameFilter.name;return{names:t?e.nameState.names.items.filter((function(e){return e.name.toLowerCase().startsWith(t.toLowerCase())})):e.nameState.names.items,namingRules:e.nameState.namingRules.items.filter((function(e){return!e.disabled}))}}),(function(e){var t=function(t){return e(t)};return{add:t,remove:t,setFilter:t}}))(V),z=function(e){return{type:"NamingRuleSetFilter",payload:e}},L=function(e){return{type:"NamingRuleAdd",payload:e}},P=function(e){return{type:"NamingRuleDisable",payload:e}},q=function(e){return{type:"NamingRuleEnable",payload:e}},M=function(e){return{type:"NamingRuleRemove",payload:e}},Y=a(243),G=a(247),H=a(3),K="NamingRule",W=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,K,e)}return Object(s.a)(a,[{key:"disable",value:function(e){var t=this.getById(e.id);t&&(t.disabled=!0,this.save())}},{key:"enable",value:function(e){var t=this.getById(e.id);t&&(t.disabled=!1,this.save())}}],[{key:"initData",value:function(){var e=new a(F.read(K));if(!e.items.length){var t=new Q;t.name="Default Rule",t.value.push({type:"FreeText",value:""}),t.isBuildIn=!0,e.add(t)}return e}}]),a}(D),Q=function e(){Object(u.a)(this,e),this.id=(new Date).getTime(),this.name="",this.disabled=!1,this.value=[],this.isBuildIn=!1},U=a(245),X=a(249),Z=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).state=void 0,n.defaultRule={type:"FreeText",value:""},n.addRule=function(){n.state.value.push(Object(H.a)({},n.defaultRule)),n.setState(n.state)},n.removeRule=function(e){n.state.value.splice(e,1),n.setState(n.state)},n.namingRuleNameChanged=function(e){var t=Object(H.a)(Object(H.a)({},n.state),{name:e});n.setState(t)},n.ruleTypeChanged=function(e,t){var a=n.state;a.value[t].type=e,n.setState(a)},n.ruleValueChanged=function(e,t){var a=n.state;a.value[t].value=e,n.setState(a)};var i=new Q;return i.value.push(n.defaultRule),n.state=i,n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=["FreeText","Enumeration","FixedValue"];return Object(B.jsx)(f.a,{title:this.props.title,visible:!0,onOk:function(){return e.props.onSubmit(e.state)},okButtonProps:{disabled:!this.state.name},onCancel:this.props.onCancel,children:Object(B.jsxs)(k.a,{children:[Object(B.jsx)(k.a.Item,{name:"name",label:"Name",labelCol:{span:4},rules:[{required:!0,message:"Name is required"}],children:Object(B.jsx)(g.a,{value:this.state.name,onChange:function(t){return e.namingRuleNameChanged(t.target.value)}})}),Object(B.jsx)(k.a.Item,{name:"disabled",label:"Disabled",labelCol:{span:4},children:Object(B.jsx)(U.a,{checked:this.state.disabled,onChange:function(t){return e.setState(Object(H.a)(Object(H.a)({},e.state),{disabled:t.target.checked}))}})}),this.state.value.map((function(a,n){return Object(B.jsx)(k.a.Item,{label:"Rule",labelCol:{span:4},children:Object(B.jsxs)(v.b,{children:[Object(B.jsx)(w.a,{defaultValue:"FreeText",value:a.type,style:{width:140},options:t.map((function(e){return{label:e,value:e}})),onChange:function(t){return e.ruleTypeChanged(t,n)}},"select"+n),Object(B.jsx)(g.a,{name:"input"+n,value:a.value,onChange:function(t){return e.ruleValueChanged(t.target.value,n)}},"input"+n),n?Object(B.jsx)(X.a,{onClick:function(){return e.removeRule(n)}},"action"+n):null]})},"detailRule"+n)})),Object(B.jsx)(k.a.Item,{children:Object(B.jsx)(R.a,{type:"dashed",block:!0,icon:Object(B.jsx)(x.a,{}),onClick:this.addRule,children:"Add a Rule"})})]})})}}]),a}(i.a.Component),$=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={showDetails:!1,filter:"all"},e.addNamingRule=function(t){e.props.addRule(L(t)),e.setState({showDetails:!1})},e.setNamingRuleStatus=function(t,a){a?e.props.disableRule(q(t)):e.props.disableRule(P(t))},e.delNamingRule=function(t){f.a.confirm({title:"Are you sure you want to delete it?",icon:Object(B.jsx)(y.a,{}),content:"This deletion is un-withdrawable.",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){e.props.removeRule(M(t))}})},e.filterChanged=function(t){var a=t.target.value,n={all:!0,disabled:!1};"all"!==a&&(n.all=!1,n.disabled="disabled"===a),e.props.setFilter(z(n)),e.setState({filter:t.target.value})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return Object(B.jsxs)("div",{children:[Object(B.jsxs)(v.b,{children:[Object(B.jsx)("label",{children:"Display:"}),Object(B.jsxs)(Y.a.Group,{onChange:this.filterChanged,value:this.state.filter,children:[Object(B.jsx)(Y.a,{value:"all",children:"All"}),Object(B.jsx)(Y.a,{value:"disabled",children:"Disabled"}),Object(B.jsx)(Y.a,{value:"enabled",children:"Enabled"})]})]}),Object(B.jsx)(O.b,{dataSource:this.props.rules,renderItem:function(t){return Object(B.jsx)(O.b.Item,{actions:t.isBuildIn?[Object(B.jsx)(G.a,{checkedChildren:"\u5df2\u542f\u7528",checked:!0,size:"small",disabled:!0}),Object(B.jsx)("div",{style:{width:56},children:"Build-in"})]:[Object(B.jsx)(G.a,{checkedChildren:"\u5df2\u542f\u7528",unCheckedChildren:"\u5df2\u7981\u7528",checked:!t.disabled,onChange:function(a){return e.setNamingRuleStatus(t,a)},size:"small"}),Object(B.jsx)(R.a,{type:"link",size:"small",danger:!0,onClick:function(){return e.delNamingRule(t)},children:"Delete"})],children:Object(B.jsx)(O.b.Item.Meta,{title:t.name,description:t.value.map((function(e){return e.type+": "+(e.value||"null")})).join(", ")})})}}),Object(B.jsx)(R.a,{type:"dashed",block:!0,icon:Object(B.jsx)(x.a,{}),onClick:function(){return e.setState({showDetails:!0})},children:"Add a new Naming Rule"}),this.state.showDetails?Object(B.jsx)(Z,{title:"Add a Naming Rule",onSubmit:this.addNamingRule,onCancel:function(){return e.setState({showDetails:!1})}}):null]})}}]),a}(i.a.Component),_=function(e){if(!e.namingRuleState.namingRuleFilter.all){var t=e.namingRuleState.namingRuleFilter.disabled;return e.namingRuleState.namingRules.items.filter((function(e){return e.disabled===t}))}return e.namingRuleState.namingRules.items},ee=[{path:"/names",name:"Names",component:J},{path:"/naming-rules",name:"Naming Rules",component:Object(p.b)((function(e){return{rules:_(e)}}),(function(e){var t=function(t){return e(t)};return{addRule:t,removeRule:t,disableRule:t,enableRule:t,setFilter:t}}))($)}],te=h.a.Header,ae=h.a.Content,ne=h.a.Footer,ie=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e="/naming-rule",t=window.location.pathname.replace(e,""),a=ee.findIndex((function(e){return e.path===t})),n=a>-1?[a.toString()]:["0"];return Object(B.jsx)(d.a,{children:Object(B.jsxs)(h.a,{children:[Object(B.jsxs)(te,{children:[Object(B.jsx)("img",{src:b,className:"App-logo",alt:"logo"}),Object(B.jsx)(j.a,{theme:"dark",mode:"horizontal",className:"app-menus",defaultSelectedKeys:n,children:ee.map((function(t,a){return Object(B.jsx)(j.a.Item,{children:Object(B.jsx)(d.b,{to:e+t.path,children:t.name})},a)}))})]}),Object(B.jsx)(ae,{children:Object(B.jsx)("div",{className:"center-container",children:Object(B.jsxs)(m.d,{children:[ee.map((function(t,a){return Object(B.jsx)(m.b,{path:e+t.path,component:t.component},t.path)})),Object(B.jsx)(m.b,{path:e+"/",children:Object(B.jsx)(m.a,{to:e+"/names"})})]})})}),Object(B.jsx)(ne,{children:"Jimmy learn to react"})]})})}}]),a}(i.a.Component);var le=Object(p.b)((function(e){return{state:e}}))(ie),re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,250)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,l=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),l(e),r(e)}))},ue=a(64),se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a={namingRuleSetFilter:"NamingRuleSetFilter",namingRuleAdd:"NamingRuleAdd",namingRuleDisable:"NamingRuleDisable",namingRuleEnable:"NamingRuleEnable",namingRuleRemove:"NamingRuleRemove",nameSetFilter:"NameSetFilter",nameAdd:"NameAdd",nameRemove:"NameRemove"};switch(null===t||void 0===t?void 0:t.type){case a.namingRuleAdd:return e.namingRules.add(t.payload),Object(H.a)({},e);case a.namingRuleDisable:return e.namingRules.disable(t.payload),Object(H.a)({},e);case a.namingRuleEnable:return e.namingRules.enable(t.payload),Object(H.a)({},e);case a.namingRuleRemove:return e.namingRules.remove(t.payload),Object(H.a)({},e);case a.namingRuleSetFilter:return Object(H.a)(Object(H.a)({},e),{namingRuleFilter:t.payload});default:return e}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a={namingRuleSetFilter:"NamingRuleSetFilter",namingRuleAdd:"NamingRuleAdd",namingRuleDisable:"NamingRuleDisable",namingRuleEnable:"NamingRuleEnable",namingRuleRemove:"NamingRuleRemove",nameSetFilter:"NameSetFilter",nameAdd:"NameAdd",nameRemove:"NameRemove"};switch(null===t||void 0===t?void 0:t.type){case a.nameAdd:return e.names.add(t.payload),Object(H.a)({},e);case a.nameRemove:return e.names.remove(t.payload),Object(H.a)({},e);case a.nameSetFilter:return Object(H.a)(Object(H.a)({},e),{nameFilter:t.payload});default:return e}},oe=Object(ue.b)({namingRuleState:se,nameState:ce}),de={names:A.initData(),namingRules:W.initData(),namingRuleFilter:{disabled:!1,all:!0},nameFilter:{name:""}},me={namingRuleState:de,nameState:de},be=Object(ue.c)(oe,me);r.a.render(Object(B.jsx)(i.a.StrictMode,{children:Object(B.jsx)(p.a,{store:be,children:Object(B.jsx)(le,{})})}),document.getElementById("root")),re()}},[[236,1,2]]]);